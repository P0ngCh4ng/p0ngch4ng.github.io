<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Haskell練習1</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/b19239382bd9f6e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b19239382bd9f6e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7ee66019f7f6d30f.js" defer=""></script><script src="/_next/static/chunks/framework-db825bd0b4ae01ef.js" defer=""></script><script src="/_next/static/chunks/main-424107595f363128.js" defer=""></script><script src="/_next/static/chunks/pages/_app-deb173bd80cbaa92.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-802f20735a68ccca.js" defer=""></script><script src="/_next/static/jd33Jt73RIbOLgOWWD4KP/_buildManifest.js" defer=""></script><script src="/_next/static/jd33Jt73RIbOLgOWWD4KP/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div>Haskell練習1<br/>2022-9-26<br/><div><h3>問題1</h3>
<p>【問1】ランダムにアルファベット小文字の1文字表示を繰り返してください。'z'が現れたら"END"と表示して終了してください。</p>
<pre><code>import System.Random

randAlpha = randomRIO ('a', 'z')

main :: IO ()
main = do
    r &#x3C;- randAlpha
    print r
    if r == 'z' then print "END"  else main
    
</code></pre>
<p>randomRIO関数はタプルをとってIOに包んだ文字(IOモナド)を返す関数
学んだこと
&#x3C;- 演算子は、値をモナドから取り出してrに束縛するときに使っている。</p>
<p>printは <code>a -> IO()</code> 型だが、ここでは変数<strong>r</strong>は抜き出されて値のみが束縛されているので、print関数に代入できる。
Haskellでのif文は if ... then... elseという使い方なので注意</p>
<h3>問題2</h3>
<p>【問2】階乗を求める関数factを、アクションを返す関数に書き換えてください。</p>
<pre><code>fact 0 = 1
fact n | n > 0 = n * fact (n - 1)

main = do
    print $ fact 5
	```
実行結果
120
ヒント: fact 0 = return 1



```haskell
fact 0 = return 1
fact n | n > 0 = do
    n' &#x3C;- fact (n - 1)
    return $ n * n'

main = do
    print =&#x3C;&#x3C; fact 5
	```

returnを使うと関数はアクション（ほとんどの場合モナド）を返却する。
この問題は関数をdoで包むのが盲点だった。
n'に&#x3C;-でfact関数の戻り値を束縛しているが、この行を書くときにdoブロックに分けてある必要があった。
おそらくbind関数を使えばdoを使わずにワンライナーで記述可能。


### 問題３
【問3】リストをランダムに並べ替える関数shuffleを実装してください。


わからない....
また次回!
</code></pre>
</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"haskell0926","contentHtml":"\u003ch3\u003e問題1\u003c/h3\u003e\n\u003cp\u003e【問1】ランダムにアルファベット小文字の1文字表示を繰り返してください。'z'が現れたら\"END\"と表示して終了してください。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eimport System.Random\n\nrandAlpha = randomRIO ('a', 'z')\n\nmain :: IO ()\nmain = do\n    r \u0026#x3C;- randAlpha\n    print r\n    if r == 'z' then print \"END\"  else main\n    \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003erandomRIO関数はタプルをとってIOに包んだ文字(IOモナド)を返す関数\n学んだこと\n\u0026#x3C;- 演算子は、値をモナドから取り出してrに束縛するときに使っている。\u003c/p\u003e\n\u003cp\u003eprintは \u003ccode\u003ea -\u003e IO()\u003c/code\u003e 型だが、ここでは変数\u003cstrong\u003er\u003c/strong\u003eは抜き出されて値のみが束縛されているので、print関数に代入できる。\nHaskellでのif文は if ... then... elseという使い方なので注意\u003c/p\u003e\n\u003ch3\u003e問題2\u003c/h3\u003e\n\u003cp\u003e【問2】階乗を求める関数factを、アクションを返す関数に書き換えてください。\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efact 0 = 1\nfact n | n \u003e 0 = n * fact (n - 1)\n\nmain = do\n    print $ fact 5\n\t```\n実行結果\n120\nヒント: fact 0 = return 1\n\n\n\n```haskell\nfact 0 = return 1\nfact n | n \u003e 0 = do\n    n' \u0026#x3C;- fact (n - 1)\n    return $ n * n'\n\nmain = do\n    print =\u0026#x3C;\u0026#x3C; fact 5\n\t```\n\nreturnを使うと関数はアクション（ほとんどの場合モナド）を返却する。\nこの問題は関数をdoで包むのが盲点だった。\nn'に\u0026#x3C;-でfact関数の戻り値を束縛しているが、この行を書くときにdoブロックに分けてある必要があった。\nおそらくbind関数を使えばdoを使わずにワンライナーで記述可能。\n\n\n### 問題３\n【問3】リストをランダムに並べ替える関数shuffleを実装してください。\n\n\nわからない....\nまた次回!\n\u003c/code\u003e\u003c/pre\u003e\n","title":"Haskell練習1","date":"2022-9-26","tag":"programming"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"haskell0926"},"buildId":"jd33Jt73RIbOLgOWWD4KP","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>