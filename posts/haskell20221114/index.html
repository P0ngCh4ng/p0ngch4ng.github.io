<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Haskell練習2</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/b19239382bd9f6e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b19239382bd9f6e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7ee66019f7f6d30f.js" defer=""></script><script src="/_next/static/chunks/framework-db825bd0b4ae01ef.js" defer=""></script><script src="/_next/static/chunks/main-424107595f363128.js" defer=""></script><script src="/_next/static/chunks/pages/_app-deb173bd80cbaa92.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-802f20735a68ccca.js" defer=""></script><script src="/_next/static/R71keCTLx7oXpbDiHAFB3/_buildManifest.js" defer=""></script><script src="/_next/static/R71keCTLx7oXpbDiHAFB3/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div>Haskell練習2<br/>2022-10-3<br/><div><h2>問題１</h2>
<p>length,sum,product,take,drop,reverse関数を自前で再起で書くこと</p>
<pre><code>length' []     = 0
length' (_:xs) = 1 + length' xs

sum' [] = 0
sum' (x:xs) = x + sum' xs


product' [] = 0
product' (x:xs) = x * product' xs


take' 0 _ = []
take' n (x:xs) = x : (take' (n-1) xs)

drop' 0 xs = xs 
drop' n (x:xs) = drop' (n-1) xs

reverse' :: [a] -> [a]
reverse' [] = []
reverse' (x:xs) = (reverse' xs) ++ [x]

main = do
    print $ length' [1, 2, 3]
    print $ sum' [1,2,3]
    print $ take' 2 [1,2,3]
    print $ drop' 2 [1,2,3]
    print $ reverse' [1,2,3]
</code></pre>
<h2>問題２</h2>
<p>shuffle関数を自作すること</p>
<pre><code>shuffle :: [a] -> IO [a]
shuffle [] = return []
shuffle xs = do
   n &#x3C;-  randomRIO (0, length xs - 1) :: IO Int
   xs' &#x3C;- shuffle $ take n xs ++ drop (n + 1) xs
   return $ (xs !! n) : xs'
</code></pre>
<p>リスト操作にIOを組み込んだ形。
次の呼び出しには take n xs ++ drop (n + 1 ) xs を与える。
これは、リストの中からランダムな値を一つ取り除いたリストである（!!と逆の処理）。
そして、その返り値をxs'に代入している。</p>
<p>また、この関数が返すのは、リストから任意の値を取り出し、それを先程の物と組み合わせたもの。</p>
</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"haskell20221114","contentHtml":"\u003ch2\u003e問題１\u003c/h2\u003e\n\u003cp\u003elength,sum,product,take,drop,reverse関数を自前で再起で書くこと\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003elength' []     = 0\nlength' (_:xs) = 1 + length' xs\n\nsum' [] = 0\nsum' (x:xs) = x + sum' xs\n\n\nproduct' [] = 0\nproduct' (x:xs) = x * product' xs\n\n\ntake' 0 _ = []\ntake' n (x:xs) = x : (take' (n-1) xs)\n\ndrop' 0 xs = xs \ndrop' n (x:xs) = drop' (n-1) xs\n\nreverse' :: [a] -\u003e [a]\nreverse' [] = []\nreverse' (x:xs) = (reverse' xs) ++ [x]\n\nmain = do\n    print $ length' [1, 2, 3]\n    print $ sum' [1,2,3]\n    print $ take' 2 [1,2,3]\n    print $ drop' 2 [1,2,3]\n    print $ reverse' [1,2,3]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e問題２\u003c/h2\u003e\n\u003cp\u003eshuffle関数を自作すること\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eshuffle :: [a] -\u003e IO [a]\nshuffle [] = return []\nshuffle xs = do\n   n \u0026#x3C;-  randomRIO (0, length xs - 1) :: IO Int\n   xs' \u0026#x3C;- shuffle $ take n xs ++ drop (n + 1) xs\n   return $ (xs !! n) : xs'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eリスト操作にIOを組み込んだ形。\n次の呼び出しには take n xs ++ drop (n + 1 ) xs を与える。\nこれは、リストの中からランダムな値を一つ取り除いたリストである（!!と逆の処理）。\nそして、その返り値をxs'に代入している。\u003c/p\u003e\n\u003cp\u003eまた、この関数が返すのは、リストから任意の値を取り出し、それを先程の物と組み合わせたもの。\u003c/p\u003e\n","title":"Haskell練習2","date":"2022-10-3","tag":"programming"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"haskell20221114"},"buildId":"R71keCTLx7oXpbDiHAFB3","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>